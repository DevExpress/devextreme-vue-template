import{_ as P,s as q,D as h,a as C,b as I,c as S,d as E,e as R,f as T,g as b,o as _,h as e,i as c,w as t,r as a,t as n,j as A,k as g,l as M,m as N,n as V,p as F,q as L}from"./index-Dho2qyFN.js";import{D as O,n as j}from"./load-indicator-CCpxoK9O.js";const H={components:{DxForm:T,DxItem:R,DxLabel:E,DxButtonItem:S,DxButtonOptions:I,DxRequiredRule:C,DxCustomRule:h,DxEmailRule:q,DxLoadIndicator:O},setup(){const x=L(),o=N(!1),i=V({email:"",password:""}),s=async()=>{const{email:r,password:d}=i;o.value=!0;const l=await F.createAccount(r,d);o.value=!1,l.isOk?x.push("/login-form"):j(l.message,"error",2e3)};function p(r){return r.value===i.password}return{formData:i,loading:o,onSubmit:s,confirmPassword:p}}},z={class:"policy-info"},G={class:"dx-button-text"},J={key:1},K={class:"login-link"};function Q(x,o,i,s,p,r){const d=a("dx-required-rule"),l=a("dx-email-rule"),u=a("dx-label"),m=a("dx-item"),w=a("dx-custom-rule"),f=a("router-link"),v=a("dx-button-options"),y=a("dx-button-item"),D=a("dx-loadIndicator"),k=a("dx-form");return _(),b("form",{class:"create-account-form",onSubmit:o[0]||(o[0]=M((...B)=>s.onSubmit&&s.onSubmit(...B),["prevent"]))},[e(k,{"form-data":s.formData,disabled:s.loading},{createAccount:t(()=>[c("div",null,[c("span",G,[s.loading?(_(),A(D,{key:0,width:"24px",height:"24px",visible:!0})):g("",!0),s.loading?g("",!0):(_(),b("span",J,"Create a new account"))])])]),default:t(()=>[e(m,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:t(()=>[e(d,{message:"Email is required"}),e(l,{message:"Email is invalid"}),e(u,{visible:!1})]),_:1}),e(m,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:t(()=>[e(d,{message:"Password is required"}),e(u,{visible:!1})]),_:1}),e(m,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:t(()=>[e(d,{message:"Password is required"}),e(w,{message:"Passwords do not match","validation-callback":s.confirmPassword},null,8,["validation-callback"]),e(u,{visible:!1})]),_:1}),e(m,null,{default:t(()=>[c("div",z,[o[3]||(o[3]=n(" By creating an account, you agree to the ",-1)),e(f,{to:"#"},{default:t(()=>[...o[1]||(o[1]=[n("Terms of Service",-1)])]),_:1}),o[4]||(o[4]=n(" and ",-1)),e(f,{to:"#"},{default:t(()=>[...o[2]||(o[2]=[n("Privacy Policy",-1)])]),_:1})])]),_:1}),e(y,null,{default:t(()=>[e(v,{width:"100%",type:"default",template:"createAccount","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),c("div",K,[o[6]||(o[6]=n(" Have an account? ",-1)),e(f,{to:"/login-form"},{default:t(()=>[...o[5]||(o[5]=[n("Sign In",-1)])]),_:1})])],32)}const X=P(H,[["render",Q]]);export{X as default};
