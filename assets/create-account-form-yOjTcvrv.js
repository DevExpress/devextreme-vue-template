import{_ as P,D as q,v as h,a as C,b as I,c as S,d as E,e as R,f as T,g as A,r as t,h as b,o as f,i as o,j as c,w as a,x as n,k as M,l as g,m as N,u as V,p as F,q as L,s as O,t as j}from"./index-DWgRr0BB.js";const H={components:{DxForm:A,DxItem:T,DxLabel:R,DxButtonItem:E,DxButtonOptions:S,DxRequiredRule:I,DxCustomRule:C,DxEmailRule:h,DxLoadIndicator:q},setup(){const x=V(),e=F(!1),i=L({email:"",password:""}),s=async()=>{const{email:r,password:d}=i;e.value=!0;const l=await O.createAccount(r,d);e.value=!1,l.isOk?x.push("/login-form"):j(l.message,"error",2e3)};function p(r){return r.value===i.password}return{formData:i,loading:e,onSubmit:s,confirmPassword:p}}},z={class:"policy-info"},G={class:"dx-button-text"},J={key:1},K={class:"login-link"};function Q(x,e,i,s,p,r){const d=t("dx-required-rule"),l=t("dx-email-rule"),m=t("dx-label"),u=t("dx-item"),v=t("dx-custom-rule"),_=t("router-link"),w=t("dx-button-options"),y=t("dx-button-item"),k=t("dx-loadIndicator"),D=t("dx-form");return f(),b("form",{class:"create-account-form",onSubmit:e[0]||(e[0]=N((...B)=>s.onSubmit&&s.onSubmit(...B),["prevent"]))},[o(D,{"form-data":s.formData,disabled:s.loading},{createAccount:a(()=>[c("div",null,[c("span",G,[s.loading?(f(),M(k,{key:0,width:"24px",height:"24px",visible:!0})):g("",!0),s.loading?g("",!0):(f(),b("span",J,"Create a new account"))])])]),default:a(()=>[o(u,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:a(()=>[o(d,{message:"Email is required"}),o(l,{message:"Email is invalid"}),o(m,{visible:!1})]),_:1}),o(u,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:a(()=>[o(d,{message:"Password is required"}),o(m,{visible:!1})]),_:1}),o(u,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:a(()=>[o(d,{message:"Password is required"}),o(v,{message:"Passwords do not match","validation-callback":s.confirmPassword},null,8,["validation-callback"]),o(m,{visible:!1})]),_:1}),o(u,null,{default:a(()=>[c("div",z,[e[3]||(e[3]=n(" By creating an account, you agree to the ")),o(_,{to:"#"},{default:a(()=>e[1]||(e[1]=[n("Terms of Service")])),_:1,__:[1]}),e[4]||(e[4]=n(" and ")),o(_,{to:"#"},{default:a(()=>e[2]||(e[2]=[n("Privacy Policy")])),_:1,__:[2]})])]),_:1}),o(y,null,{default:a(()=>[o(w,{width:"100%",type:"default",template:"createAccount","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),c("div",K,[e[6]||(e[6]=n(" Have an account? ")),o(_,{to:"/login-form"},{default:a(()=>e[5]||(e[5]=[n("Sign In")])),_:1,__:[5]})])],32)}const W=P(H,[["render",Q]]);export{W as default};
