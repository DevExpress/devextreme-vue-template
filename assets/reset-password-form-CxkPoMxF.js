import{_ as B,s as R,a as q,b as E,c as S,d as T,e as C,f as I,g as u,o as r,h as s,i as l,w as a,r as t,j as N,k as c,t as _,l as V,m as F,n as L,p as M,q as O}from"./index-Dho2qyFN.js";import{D as P,n as x}from"./load-indicator-CCpxoK9O.js";const j="We've sent a link to reset your password. Check your inbox.",W={components:{DxForm:I,DxItem:C,DxLabel:T,DxButtonItem:S,DxButtonOptions:E,DxRequiredRule:q,DxEmailRule:R,DxLoadIndicator:P},setup(){const d=O(),e=F(!1),n=L({email:""});async function o(){const{email:m}=n;e.value=!0;const i=await M.resetPassword(m);e.value=!1,i.isOk?(d.push("/login-form"),x(j,"success",2500)):x(i.message,"error",2e3)}return{loading:e,formData:n,onSubmit:o}}},z={class:"dx-button-text"},A={key:1},G={class:"login-link"};function H(d,e,n,o,m,i){const p=t("dx-required-rule"),f=t("dx-email-rule"),b=t("dx-label"),g=t("dx-item"),k=t("dx-button-options"),v=t("dx-button-item"),w=t("dx-load-indicator"),D=t("dx-form"),h=t("router-link");return r(),u("form",{class:"reset-password-form",onSubmit:e[0]||(e[0]=V((...y)=>o.onSubmit&&o.onSubmit(...y),["prevent"]))},[s(D,{"form-data":o.formData,disabled:o.loading},{resetTemplate:a(()=>[l("div",null,[l("span",z,[o.loading?(r(),N(w,{key:0,width:"24px",height:"24px",visible:!0})):c("",!0),o.loading?c("",!0):(r(),u("span",A,"Reset my password"))])])]),default:a(()=>[s(g,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:a(()=>[s(p,{message:"Email is required"}),s(f,{message:"Email is invalid"}),s(b,{visible:!1})]),_:1}),s(v,null,{default:a(()=>[s(k,{"element-attr":{class:"submit-button"},width:"100%",type:"default",template:"resetTemplate","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),l("div",G,[e[2]||(e[2]=_(" Return to ",-1)),s(h,{to:"/login-form"},{default:a(()=>[...e[1]||(e[1]=[_("Sign In",-1)])]),_:1})])],32)}const Q=B(W,[["render",H]]);export{Q as default};
