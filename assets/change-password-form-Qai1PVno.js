import{_ as y,D,a as k,b as B,c as C,d as q,e as I,f as R,g as S,r as t,h as _,o as c,i as e,w as n,j as f,k as M,l as x,m as N,u as V,n as F,p,q as L,s as O,t as T}from"./index-DWgRr0BB.js";const j={components:{DxForm:S,DxItem:R,DxLabel:I,DxButtonItem:q,DxButtonOptions:C,DxRequiredRule:B,DxCustomRule:k,DxLoadIndicator:D},setup(){const u=V(),d=F(),l=p(""),o=p(!1),r=L({password:""});l.value=d.params.recoveryCode;async function m(){const{password:s}=r;o.value=!0;const a=await O.changePassword(s,l.value);o.value=!1,a.isOk?u.push("/login-form"):T(a.message,"error",2e3)}function i(s){return s.value===r.password}return{loading:o,formData:r,onSubmit:m,confirmPassword:i}}},E={class:"dx-button-text"},z={key:1};function A(u,d,l,o,r,m){const i=t("dx-required-rule"),s=t("dx-label"),a=t("dx-item"),w=t("dx-custom-rule"),b=t("dx-button-options"),h=t("dx-button-item"),g=t("dx-loadIndicator"),v=t("dx-form");return c(),_("form",{onSubmit:d[0]||(d[0]=N((...P)=>o.onSubmit&&o.onSubmit(...P),["prevent"]))},[e(v,{"form-data":o.formData,disabled:o.loading},{changePassword:n(()=>[f("div",null,[f("span",E,[o.loading?(c(),M(g,{key:0,width:"24px",height:"24px",visible:!0})):x("",!0),o.loading?x("",!0):(c(),_("span",z,"Continue"))])])]),default:n(()=>[e(a,{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:n(()=>[e(i,{message:"Password is required"}),e(s,{visible:!1})]),_:1}),e(a,{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:n(()=>[e(i,{message:"Password is required"}),e(w,{message:"Passwords do not match","validation-callback":o.confirmPassword},null,8,["validation-callback"]),e(s,{visible:!1})]),_:1}),e(h,null,{default:n(()=>[e(b,{width:"100%",type:"default",template:"changePassword","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"])],32)}const H=y(j,[["render",A]]);export{H as default};
