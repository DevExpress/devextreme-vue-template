import{_ as B,D as R,v as q,b as E,c as S,d as T,e as C,f as I,g as N,r as t,h as u,o as r,i as s,j as l,w as a,k as V,l as c,x as _,m as F,u as L,p as M,q as O,s as P,t as x}from"./index-DWgRr0BB.js";const j="We've sent a link to reset your password. Check your inbox.",W={components:{DxForm:N,DxItem:I,DxLabel:C,DxButtonItem:T,DxButtonOptions:S,DxRequiredRule:E,DxEmailRule:q,DxLoadIndicator:R},setup(){const d=L(),e=M(!1),n=O({email:""});async function o(){const{email:m}=n;e.value=!0;const i=await P.resetPassword(m);e.value=!1,i.isOk?(d.push("/login-form"),x(j,"success",2500)):x(i.message,"error",2e3)}return{loading:e,formData:n,onSubmit:o}}},z={class:"dx-button-text"},A={key:1},G={class:"login-link"};function H(d,e,n,o,m,i){const p=t("dx-required-rule"),f=t("dx-email-rule"),b=t("dx-label"),g=t("dx-item"),v=t("dx-button-options"),k=t("dx-button-item"),w=t("dx-load-indicator"),D=t("dx-form"),h=t("router-link");return r(),u("form",{class:"reset-password-form",onSubmit:e[0]||(e[0]=F((...y)=>o.onSubmit&&o.onSubmit(...y),["prevent"]))},[s(D,{"form-data":o.formData,disabled:o.loading},{resetTemplate:a(()=>[l("div",null,[l("span",z,[o.loading?(r(),V(w,{key:0,width:"24px",height:"24px",visible:!0})):c("",!0),o.loading?c("",!0):(r(),u("span",A,"Reset my password"))])])]),default:a(()=>[s(g,{"data-field":"email","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Email",mode:"email"}},{default:a(()=>[s(p,{message:"Email is required"}),s(f,{message:"Email is invalid"}),s(b,{visible:!1})]),_:1}),s(k,null,{default:a(()=>[s(v,{"element-attr":{class:"submit-button"},width:"100%",type:"default",template:"resetTemplate","use-submit-behavior":!0})]),_:1})]),_:1},8,["form-data","disabled"]),l("div",G,[e[2]||(e[2]=_(" Return to ")),s(h,{to:"/login-form"},{default:a(()=>e[1]||(e[1]=[_("Sign In")])),_:1,__:[1]})])],32)}const K=B(W,[["render",H]]);export{K as default};
